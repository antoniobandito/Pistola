{"ast":null,"code":"var _jsxFileName = \"/Users/casha/Desktop/pistola/pistola/client/src/contexts/CartContext.tsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useReducer, useContext } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CartContext = /*#__PURE__*/createContext({\n  cartState: {\n    items: []\n  },\n  addToCart: () => null,\n  removeFromCart: () => null,\n  updateItemSize: () => null\n});\nfunction cartReducer(state, action) {\n  switch (action.type) {\n    case 'ADD_ITEM':\n      const existingItem = state.items.find(item => item.id === action.item.id);\n      if (existingItem) {\n        return {\n          ...state,\n          items: state.items.map(item => item.id === action.item.id && item.size === action.item.size ? {\n            ...item,\n            quantity: item.quantity + action.item.quantity\n          } : item)\n        };\n      }\n      return {\n        ...state,\n        items: [...state.items, action.item]\n      };\n    case 'REMOVE_ITEM':\n      return {\n        ...state,\n        items: state.items.filter(item => item.id !== action.itemId)\n      };\n    case 'UPDATE_ITEM_SIZE':\n      return {\n        ...state,\n        items: state.items.map(item => item.id === action.itemId ? {\n          ...item,\n          size: action.newSize\n        } : item)\n      };\n    default:\n      return state;\n  }\n}\n;\nexport const useCart = () => {\n  _s();\n  const context = useContext(CartContext);\n  if (!context) {\n    throw new Error('useCart must be used within a CartProvider');\n  }\n  return context;\n};\n_s(useCart, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nexport const CartProvider = ({\n  children\n}) => {\n  _s2();\n  const [cartState, dispatch] = useReducer(cartReducer, {\n    items: []\n  });\n  const addToCart = item => {\n    dispatch({\n      type: 'ADD_ITEM',\n      item\n    });\n  };\n  const removeFromCart = itemId => {\n    dispatch({\n      type: 'REMOVE_ITEM',\n      itemId\n    });\n  };\n  const updateItemSize = (itemId, newSize) => {\n    dispatch({\n      type: 'UPDATE_ITEM_SIZE',\n      itemId,\n      newSize\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(CartContext.Provider, {\n    value: {\n      cartState,\n      addToCart,\n      removeFromCart,\n      updateItemSize\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 101,\n    columnNumber: 9\n  }, this);\n};\n_s2(CartProvider, \"GtuzCbPsVaXo8qDQ/M/UU0oLJpo=\");\n_c = CartProvider;\nvar _c;\n$RefreshReg$(_c, \"CartProvider\");","map":{"version":3,"names":["React","createContext","useReducer","useContext","jsxDEV","_jsxDEV","CartContext","cartState","items","addToCart","removeFromCart","updateItemSize","cartReducer","state","action","type","existingItem","find","item","id","map","size","quantity","filter","itemId","newSize","useCart","_s","context","Error","CartProvider","children","_s2","dispatch","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/casha/Desktop/pistola/pistola/client/src/contexts/CartContext.tsx"],"sourcesContent":["import React, { createContext, useState, ReactNode, useReducer, useContext } from 'react'\n\ninterface CartItem {\n    size: string;\n    id: string;\n    title: string;\n    price: number;\n    quantity: number;\n    photoUrl: string;\n}\n\ninterface CartState {\n    items: CartItem[];\n}\n\ninterface CartContextType {\n    cartState: CartState;\n    addToCart: (item: CartItem) => void;\n    removeFromCart: (itemId: string) => void;\n    updateItemSize: (itemId: string, newSize: string) => void;\n}\n\ntype CartAction =\n    | { type: 'ADD_ITEM'; item: CartItem }\n    | { type: 'REMOVE_ITEM'; itemId: string}\n    | { type: 'UPDATE_ITEM_SIZE'; itemId: string; newSize: string }\n\nconst CartContext = createContext<CartContextType>({\n    cartState: { items: [] },\n    addToCart: () => null,\n    removeFromCart: () => null,\n    updateItemSize: () => null,\n    });\n\n\nfunction cartReducer(state: CartState, action: CartAction): CartState {\n    switch (action.type) {\n\n\n        case 'ADD_ITEM':\n            const existingItem = state.items.find(item => item.id === action.item.id);\n            if (existingItem) {\n            return {\n                ...state,\n                items: state.items.map(item =>\n                    item.id === action.item.id && item.size === action.item.size\n                        ? { ...item, quantity: item.quantity + action.item.quantity }\n                        : item\n                    ),\n                };\n            }\n            return {\n                ...state,\n                items: [...state.items, action.item],\n            };\n        case 'REMOVE_ITEM':\n            return {\n                ...state,\n                items: state.items.filter(item => item.id !== action.itemId),\n            };\n        \n        case 'UPDATE_ITEM_SIZE':\n            return {\n                ...state,\n                items: state.items.map(item =>\n                    item.id === action.itemId ? { ...item, size: action.newSize } : item\n                ),\n            };\n        default:\n            return state;\n        }\n    };\n           \n\n\nexport const useCart = () => {\n    const context = useContext(CartContext);\n    if (!context) {\n        throw new Error('useCart must be used within a CartProvider');\n    }\n    return context;\n};\n\nexport const CartProvider = ({ children }: {children: ReactNode }) => {\n    const [cartState, dispatch] = useReducer(cartReducer, { items: [] });\n    \n\n    const addToCart = (item: CartItem) => {\n        dispatch({ type: 'ADD_ITEM', item });\n    };\n\n    const removeFromCart = (itemId: string) => {\n        dispatch({ type: 'REMOVE_ITEM', itemId });\n    };\n\n    const updateItemSize = (itemId: string, newSize: string) => {\n        dispatch({ type: 'UPDATE_ITEM_SIZE', itemId, newSize });\n    };\n\n    return (\n        <CartContext.Provider value={{ cartState, addToCart, removeFromCart, updateItemSize }}>\n            {children}\n        </CartContext.Provider>\n    );\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}